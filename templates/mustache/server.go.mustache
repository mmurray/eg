package main

import (
	"github.com/murz/ego"
	"github.com/murz/ego/http"
	"{{ Name }}/app/controllers"
	"{{ Name }}/conf"
	"reflect"
)

func main() {
	{{#Actions}}
	http.RegisterAction("{{ Controller }}.{{ Name }}", reflect.TypeOf(controllers.{{ Controller }}{}), []string{
		{{#ContextKeys}}
			"{{ Value }}",
		{{/ContextKeys}}
	}, map[string]string{
		{{#Fields}}
			"{{ Key }}": "{{ Value }}",
		{{/Fields}}
	})
	{{/Actions}}
	conf.Routes()
	conf.Databases()
	var s = ego.NewServer("{{ Name }}")
	s.Run()
}